!function(e){var a=function(e,a){if(void 0!==e){var t=e.find(".uael-woo-categories-slider");if(t.length>0){var o=t.find("ul.products"),i=JSON.parse(t.attr("data-cat_slider"));o.slick(i)}}},t=function(e,a){if(void 0!==e){var t=e.find(".uael-woo-products-slider");if(t.length>0){var o=t.find("ul.products"),i=JSON.parse(t.attr("data-woo_slider"));o.slick(i)}elementorFrontend.isEditMode()||(function(e,a){var t=e.data("id"),o=(e.find(".uael-quick-view-btn"),e.find(".uael-quick-view-"+t));o.appendTo(document.body);var i=o.find(".uael-quick-view-bg"),d=o.find("#uael-quick-view-modal"),n=d.find("#uael-quick-view-content"),r=d.find("#uael-quick-view-close"),c=d.find(".uael-content-main-wrapper");c.width(),c.height();e.off("click",".uael-quick-view-btn").on("click",".uael-quick-view-btn",function(e){e.preventDefault();var t=a(this),o=(t.closest("li.product"),t.data("product_id"));d.hasClass("loading")||d.addClass("loading"),i.hasClass("uael-quick-view-bg-ready")||i.addClass("uael-quick-view-bg-ready"),a(document).trigger("uael_quick_view_loading"),u(t,o)}),e.off("click",".uael-quick-view-data").on("click",".uael-quick-view-data",function(e){e.preventDefault();var t=a(this),o=(t.closest("li.product"),t.data("product_id"));d.hasClass("loading")||d.addClass("loading"),i.hasClass("uael-quick-view-bg-ready")||i.addClass("uael-quick-view-bg-ready"),a(document).trigger("uael_quick_view_loading"),u(t,o)});var u=function(e,t){d.css("opacity",0),a.ajax({url:uael.ajax_url,data:{action:"uael_woo_quick_view",product_id:t},dataType:"html",type:"POST",success:function(e){n.html(e),l()}})},l=function(){var e=n.find(".variations_form");if(e.trigger("check_variations"),e.trigger("reset_image"),!d.hasClass("open")){d.removeClass("loading").addClass("open");var t=f(),o=a("html");o.css("margin-right",t),o.addClass("uael-quick-view-is-open")}var i=d.find(".variations_form");i.length>0&&"function"==typeof i.wc_variation_form&&(i.wc_variation_form(),i.find("select").change()),n.imagesLoaded(function(e){var a=d.find(".uael-qv-image-slider");a.find("li").length>1?a.flexslider({animation:"slide",start:function(e){setTimeout(function(){s(!0)},300)}}):setTimeout(function(){s(!0)},300)}),a(document).trigger("uael_quick_view_loader_stop")},s=function(e){var a=n,t=a.find(".product .uael-qv-image-slider").first().height(),o=a.find(".product .summary.entry-summary"),i=o.css("content");void 0!==i&&544==i.replace(/[^0-9]/g,"")&&0!=t&&null!==t?o.css("height",t):o.css("height",""),!0===e&&d.css("opacity",1)},f=function(){var e=a('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');a("body").append(e);var t=a("div",e).innerWidth();e.css("overflow-y","scroll");var o=a("div",e).innerWidth();return a(e).remove(),t-o};!function(){c.on("click",function(a){this===a.target&&e()}),a(document).keyup(function(a){27===a.keyCode&&e()}),r.on("click",function(a){a.preventDefault(),e()});var e=function(){i.removeClass("uael-quick-view-bg-ready"),d.removeClass("open").removeClass("loading"),a("html").removeClass("uael-quick-view-is-open"),a("html").css("margin-right",""),setTimeout(function(){n.html("")},600)}}(),window.addEventListener("resize",function(e){s()});var _=function(){o.off("click","#uael-quick-view-content .single_add_to_cart_button").off("uael_added_to_cart").on("click","#uael-quick-view-content .single_add_to_cart_button",this.onAddToCart).on("uael_added_to_cart",this.updateButton)};_.prototype.onAddToCart=function(e){e.preventDefault();var t=a(this).closest("form");if(!t[0].checkValidity())return t[0].reportValidity(),!1;var i=a(this),d=a(this).val(),n=a('input[name="variation_id"]').val()||"",r=a('input[name="quantity"]').val();i.is(".single_add_to_cart_button")&&(i.removeClass("added"),i.addClass("loading"),""!=n?jQuery.ajax({url:uael.ajax_url,type:"POST",data:"action=uael_add_cart_single_product&product_id="+d+"&variation_id="+n+"&quantity="+r,success:function(e){a(document.body).trigger("wc_fragment_refresh"),o.trigger("uael_added_to_cart",[i])}}):jQuery.ajax({url:uael.ajax_url,type:"POST",data:"action=uael_add_cart_single_product&product_id="+d+"&quantity="+r,success:function(e){a(document.body).trigger("wc_fragment_refresh"),o.trigger("uael_added_to_cart",[i])}}))},_.prototype.updateButton=function(e,t){a(t=void 0!==t&&t)&&(a(t).removeClass("loading"),a(t).addClass("added"),!uael.is_cart&&0===a(t).parent().find(".added_to_cart").length&&uael.is_single_product&&a(t).after(' <a href="'+uael.cart_url+'" class="added_to_cart wc-forward" title="'+uael.view_cart+'">'+uael.view_cart+"</a>"))},new _}(e,a),function(e,a){if($layout=e.data("widget_type"),"uael-woo-products.grid-franko"===$layout||"uael-woo-products-slider.slider-franko"===$layout){var t=function(){a(document.body).off("click",".uael-product-actions .uael-add-to-cart-btn.product_type_simple").off("uael_product_actions_added_to_cart").on("click",".uael-product-actions .uael-add-to-cart-btn.product_type_simple",this.onAddToCart).on("uael_product_actions_added_to_cart",this.updateButton)};t.prototype.onAddToCart=function(e){e.preventDefault();var t=a(this),o=t.data("product_id");t.find("uael-action-item"),t.removeClass("added"),t.addClass("loading"),jQuery.ajax({url:uael.ajax_url,type:"POST",data:"action=uael_add_cart_single_product&product_id="+o+"&quantity=1",success:function(e){a(document.body).trigger("wc_fragment_refresh"),a(document.body).trigger("uael_product_actions_added_to_cart",[t])}})},t.prototype.updateButton=function(e,t){a(t=void 0!==t&&t)&&(a(t).removeClass("loading"),a(t).addClass("added"))},new t}}(e,a))}},o=function(e,a){a("body").off("added_to_cart.uael_cart").on("added_to_cart.uael_cart",function(e,a,t,o){o.closest(".elementor-widget-uael-woo-add-to-cart").length>0&&o.hasClass("uael-redirect")&&setTimeout(function(){!uael.is_cart&&o.hasClass("added")&&(window.location=uael.cart_url)},200)})};e(document).off("click",".uael-woocommerce-pagination a.page-numbers").on("click",".uael-woocommerce-pagination a.page-numbers",function(a){if($scope=e(this).closest(".elementor-widget-uael-woo-products"),!$scope.find(".uael-woocommerce").hasClass("uael-woo-query-main")){a.preventDefault(),$scope.find("ul.products").after('<div class="uael-woo-loader"><div class="uael-loader"></div><div class="uael-loader-overlay"></div></div>');var t=$scope.data("id"),o=$scope.find(".uael-woocommerce").data("page"),i=1,d=parseInt($scope.find(".uael-woocommerce-pagination .page-numbers.current").html()),n=$scope.find(".uael-woocommerce").data("skin");i=e(this).hasClass("next")?d+1:e(this).hasClass("prev")?d-1:e(this).html(),e.ajax({url:uael.ajax_url,data:{action:"uael_get_products",page_id:o,widget_id:$scope.data("id"),category:"",skin:n,page_number:i},dataType:"json",type:"POST",success:function(a){$scope.find(".uael-woo-loader").remove(),e("html, body").animate({scrollTop:$scope.find(".uael-woocommerce").offset().top-30},"slow"),$scope.find(".uael-woo-products-inner ul.products").replaceWith(a.data.html),$scope.find(".uael-woocommerce-pagination").replaceWith(a.data.pagination),e(window).trigger("uael_woocommerce_after_pagination",[o,t])}})}}),e(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-products.grid-default",t),elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-products.grid-franko",t),elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-add-to-cart.default",o),elementorFrontend.hooks.addAction("frontend/element_ready/uael-woo-categories.default",a)})}(jQuery);